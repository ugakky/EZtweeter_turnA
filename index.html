<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>TurnA ãƒ„ã‚¤ãƒ¼ãƒˆç”Ÿæˆæ©Ÿ</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    padding: 16px;
    margin: 0;
    background: #f9f5ff;
  }
  .container {
    max-width: 480px;
    margin: 0 auto;
    background: #ffffff;
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
  }
  h2 {
    font-size: 20px;
    text-align: center;
    margin-top: 0;
    margin-bottom: 12px;
  }
  label { display:block; margin-top:10px; font-size:14px; }
  select {
    width: 100%;
    padding: 8px;
    margin-top: 4px;
    border-radius: 8px;
    border: 1px solid #ddd;
    font-size: 14px;
  }
  .btn-row { display:flex; gap:8px; margin-top:12px; }
  button {
    flex: 1;
    padding: 10px 0;
    font-size: 14px;
    border-radius: 999px;
    border: none;
    cursor: pointer;
  }
  button.primary { background:#ff7fbf; color:#fff; }
  button.secondary { background:#eee; color:#444; }
  #output {
    width: 100%;
    min-height: 180px;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ddd;
    font-size: 14px;
    resize: vertical;
    box-sizing: border-box;
  }
  .small { font-size:11px; color:#777; margin-top:6px; }
</style>
</head>
<body>

<div class="container">
  <h2>ä»Šæ—¥ä¼šãˆã‚‹ç”·ã®å¨˜ãƒ„ã‚¤ãƒ¼ãƒˆç”Ÿæˆæ©Ÿ</h2>

  <label>åå‰ã‚’é¸ã¶
    <select id="name">
      <option value="">é¸ã‚“ã§ã­</option>
      <option value="ã‚ŠãŠ|rio_turn_a">ã‚ŠãŠ</option>
      <option value="ã‚Œã‚‚ã‚“|lemon_turn_a">ã‚Œã‚‚ã‚“</option>
      <option value="ã¿ãªã“|minako_turn_a">ã¿ãªã“</option>
      <option value="ã‚Œã‚“ã¡ã‚‡ã‚“|renchon_turn_a">ã‚Œã‚“ã¡ã‚‡ã‚“</option>
      <option value="ã‚ã‹ã‚Š|akari_turn_a">ã‚ã‹ã‚Š</option>
      <option value="ã´ã®|pino_turn_a">ã´ã®</option>
      <option value="ã±ã‚‹|paru_turn_a">ã±ã‚‹</option>
      <option value="ã‚‹ãª|runa_turn_a">ã‚‹ãª</option>
      <option value="ã‚»ã‚¤ãƒ©|seira_turn_a">ã‚»ã‚¤ãƒ©</option>
      <option value="ã¤ãã¿|tukimi_turn_a">ã¤ãã¿</option>
      <option value="ã¾ã‚„|maya_turn_a">ã¾ã‚„</option>
      <option value="ã¿ãšã|mizuki_turn_a">ã¾ã‚„</option>
      <option value="ã‚ãŠã„|aoi_turn_a">ã¾ã‚„</option>
    </select>
  </label>

  <label>æ™‚é–“ã‚’é¸ã¶
    <select id="time">
      <option value="">æŒ‡å®šãªã—</option>
      <option value="17:00ã€œ">17:00ã€œ</option>
      <option value="19:00ã€œ">19:00ã€œ</option>
      <option value="ã€œ23:00">ã€œ23:00</option>
    </select>
  </label>

  <div class="btn-row">
    <button class="primary" type="button" onclick="addEntry()">ã“ã®å­ã‚’è¿½åŠ </button>
    <button class="secondary" type="button" onclick="clearEntries()">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>

  <h3>ç”Ÿæˆã•ã‚ŒãŸãƒ„ã‚¤ãƒ¼ãƒˆ</h3>
  <textarea id="output" readonly></textarea>

  <button class="primary" type="button" style="margin-top:10px" onclick="copyToClipboard()">
    ã“ã®ãƒ„ã‚¤ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹
  </button>
  <div class="small">â€»ã‚³ãƒ”ãƒ¼ã—ãŸã‚‰Xã®æŠ•ç¨¿ç”»é¢ã«è²¼ã‚Šä»˜ã‘ã¦ã­</div>
</div>

<script>
  var entries = [];

  function addEntry() {
    var nameData = document.getElementById("name").value;
    var time = document.getElementById("time").value;

    if (!nameData) {
      alert("åå‰ã‚’é¸ã‚“ã§ã­ï¼");
      return;
    }

    var parts = nameData.split("|");
    var name = parts[0];
    var id = parts[1];

    // æ™‚é–“ãŒç©ºãªã‚‰ã¤ã‘ãªã„
    var entry = time ? (name + " @" + id + " " + time)
                     : (name + " @" + id);

    entries.push(entry);
    generateTweet();
  }

  function clearEntries() {
    if (!entries.length) return;
    if (!confirm("å…¨éƒ¨æ¶ˆã™ã‚ˆã€ã„ã„ï¼Ÿ")) return;
    entries = [];
    generateTweet();
  }

  function generateTweet() {
    var today = new Date();
    var date = (today.getMonth() + 1) + "/" + today.getDate();

    var body = entries.length ? entries.join("\n") : "â€»ã“ã“ã«è¿½åŠ ã—ãŸã‚­ãƒ£ã‚¹ãƒˆã•ã‚“ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆ";

    var text = "ğŸ’–" + date + " æœ¬æ—¥ä¼šãˆã‚‹ç”·ã®å¨˜ğŸ’–\n\n" +
      body + "\n\n" +
      "#ã‚³ãƒ³ã‚«ãƒ•ã‚§ #ã‚³ãƒ³ã‚«ãƒ•ã‚§å¬¢ #å®—å³è¡›é–€ç”º #ç”·ã®å¨˜ #å¥³è£… #ã‚³ãƒ³ã‚«ãƒ•ã‚§å–¶æ¥­ #å¿ƒæ–æ©‹";

    document.getElementById("output").value = text;
  }

  function copyToClipboard() {
    var textarea = document.getElementById("output");
    var text = textarea.value;

    if (!text.trim()) {
      alert("ã¾ã ä½•ã‚‚ç”Ÿæˆã•ã‚Œã¦ãªã„ã‚ˆâ€¦ï¼");
      return;
    }

    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(text).then(function() {
        alert("ã‚³ãƒ”ãƒ¼ã§ããŸã‚ˆï¼");
      }).catch(function() {
        fallbackCopy(textarea);
      });
    } else {
      fallbackCopy(textarea);
    }
  }

  function fallbackCopy(textarea) {
    textarea.readOnly = false;
    textarea.select();
    textarea.setSelectionRange(0, 99999);
    try {
      document.execCommand("copy");
      alert("ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆï¼");
    } catch (e) {
      alert("ãƒœã‚¿ãƒ³ãŒå‹•ä½œã—ã¦ãªã„ã¿ãŸã„ã€‚é•·æŠ¼ã—ã§ã‚³ãƒ”ãƒ¼ã—ã¦ã­ğŸ’¦");
    }
    textarea.readOnly = true;
  }

  generateTweet();
</script>

</body>
</html>
